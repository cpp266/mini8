Absolutely! Let’s go super detailed, viva-friendly, line by line, including concepts, examples, and user inputs for your seat booking system using doubly linked list.


---

Cinemax Seat Booking System using Doubly Linked List

This program allows us to:

1. Represent a cinema hall seating arrangement with rows and seats using doubly linked lists.


2. Display available seats for each row.


3. Book seats and update the seat status dynamically.




---

1. Header Files and Namespace

#include<iostream>
#include<string>
using namespace std;

#include<iostream> → For input/output operations (cin, cout).

#include<string> → To use string type for taking yes/no responses.

using namespace std; → Avoids writing std:: every time.



---

2. Node Structure for Seats

struct node {
    int seat;
    int status; // 0=available, 1=booked
    node *next,*previous;
};

seat → Seat number in the row.

status → 0 if available, 1 if booked.

next → Pointer to the next seat in the row.

previous → Pointer to the previous seat in the row.


Concept: Using a doubly linked list lets us traverse seats forward and backward in the row.


---

3. Temporary Pointers and Arrays

node *temp,*nnode,*head,*tail,*a[10];

temp → Used to traverse the seat list.

nnode → Points to a newly created seat node.

head, tail → Pointers to start and end of a row’s seat list.

a[10] → Array of pointers, each representing a row of seats (1-10 rows).


Example:

a[1] -> head of Row 1 (seat 0 to seat 6)
a[2] -> head of Row 2 (seat 0 to seat 6)


---

4. Class list

class list {
public:
    list() { head=tail=NULL; }
    void create();             // Initialize rows and seats
    void displayavailable();   // Display free seats
    void book();               // Book seats
};

Constructor initializes head and tail as NULL.

Functions:

create() → Setup rows and seats.

displayavailable() → Show available seats in each row.

book() → Allows user to book seats.




---

5. Create Function – Initializing Seats

void list::create() {
    for(int k=1;k<=10;k++) {    // 10 rows
        a[k]=NULL;
        for(int i=0;i<=6;i++) { // 7 seats per row (0 to 6)
            nnode=new node;
            nnode->seat=i;
            nnode->status=0;    // Initially all seats are available
            nnode->next=NULL;
            nnode->previous=NULL;
            if(a[k]==NULL) { a[k]=nnode; tail=nnode; }
            else { tail->next=nnode; nnode->previous=tail; tail=nnode; }
        }
    }
}

Explanation:

1. Outer loop k → Row numbers from 1 to 10.


2. Inner loop i → Seats in a row from 0 to 6.


3. nnode=new node → Dynamically create seat nodes.


4. status=0 → Seat is available initially.


5. If first seat of row:

a[k] = nnode → head of row
tail = nnode


6. Else:

tail->next = nnode → Link previous seat to new seat.

nnode->previous = tail → Maintain backward link.

tail = nnode → Update last seat pointer.




Example Row 1:

Seat 0 <-> Seat 1 <-> Seat 2 <-> Seat 3 <-> Seat 4 <-> Seat 5 <-> Seat 6


---

6. Display Available Seats

void list::displayavailable() {
    cout<<"\nAvailable seats are: "<<endl;
    for(int k=1;k<=10;k++) {
        temp=a[k];
        cout<<"\nRow Number= "<<k<<"\t";
        while(temp!=NULL) {
            if(temp->status==0) cout<<"."<<temp->seat<<"   ";  
            temp=temp->next;
        }
    }
}

Explanation:

1. Loop through all rows k=1 to 10.


2. temp=a[k] → Start from the first seat of the row.


3. Traverse seats with while(temp!=NULL).


4. If status==0 → seat is available → print . with seat number.



Example Output (All available initially):

Row Number= 1    .0   .1   .2   .3   .4   .5   .6
Row Number= 2    .0   .1   .2   .3   .4   .5   .6
...
Row Number= 10   .0   .1   .2   .3   .4   .5   .6

. → Available seat.

Once booked → Not displayed here.



---

7. Book Seats Function

void list::book() {
    string m,ch;
    cout<<"\nDo you want to book seat tickets? ";
    cin>>m;
    if(m=="y" || m=="Y") {
        int key,k1;
        do {
            cout<<"Enter the row number you want to book: ";
            cin>>k1;
            temp=a[k1];
            cout<<"Enter the seat number in row "<<k1<<" that you want to book: ";
            cin>>key;
            while(temp->seat!=key) temp=temp->next;  // Find seat
            temp->status=1;  // Book the seat
            cout<<"Congrats ROW "<<k1<<". SEAT-NO "<<temp->seat<<" is booked"<<endl;
            cout<<"\nDo you want to book more seats (y or n) : ";
            cin>>ch;
            cout<<endl;
        } while(ch=="y" || ch=="Y");
        displayavailable(); // Show updated seats
    }       
}

Explanation with Example:

1. Ask user if they want to book → y/n.


2. Loop for multiple bookings:

Enter row number (k1) and seat number (key).

Traverse row list to find the seat → while(temp->seat!=key).

Mark status=1 → Seat booked.

Show message: "Congrats ROW X. SEAT-NO Y is booked".



3. After booking → Call displayavailable() to update available seats.



Example:

User books Row 1, Seat 2 → Output: Congrats ROW 1. SEAT-NO 2 is booked.

Available seats in Row 1 now: .0 .1 .3 .4 .5 .6



---

8. Main Function

int main() {
    cout<<"Welcome to Cinemax!!"<<endl;
    list obj;
    obj.create();
    obj.displayavailable();
    obj.book();
}

Flow of Program:

1. Display welcome message.


2. obj.create() → Initialize seats for 10 rows.


3. obj.displayavailable() → Show all seats initially available.


4. obj.book() → User can book seats interactively.




---

9. Key Concepts for Viva

1. Doubly Linked List: Each seat node has a pointer to next and previous seat → easy traversal both ways.


2. Dynamic Memory Allocation: new is used to create nodes for seats at runtime.


3. Status Variable: Marks seat as booked or available.


4. Array of Pointers (a[10]): Each index points to head of a row.


5. Traversing the list: temp pointer used to find and display seats.


6. Booking Logic:

Find the seat using traversal.

Change status from 0 → 1.

Display updated availability.





---

10. Sample Run

Welcome to Cinemax!!

Available seats are:
Row 1  .0 .1 .2 .3 .4 .5 .6
Row 2  .0 .1 .2 .3 .4 .5 .6
...
Row 10 .0 .1 .2 .3 .4 .5 .6

Do you want to book seat tickets? y
Enter the row number you want to book: 1
Enter the seat number in row 1 that you want to book: 2
Congrats ROW 1. SEAT-NO 2 is booked

Do you want to book more seats (y or n) : y
Enter the row number you want to book: 1
Enter the seat number in row 1 that you want to book: 5
Congrats ROW 1. SEAT-NO 5 is booked

Updated Available seats:
Row 1  .0 .1 .3 .4 .6
...


---

11. Viva Questions & Answers

1. Q: Why use doubly linked list?
A: Allows forward/backward traversal, easier seat management.


2. Q: How are rows represented?
A: Each row is a doubly linked list. Array a[10] stores head pointer of each row.


3. Q: What is status variable?
A: 0 → Available, 1 → Booked.


4. Q: How is a seat booked?
A: Traverse to seat node → change status to 1.


5. Q: What is tail pointer used for?
A: Helps in adding seats sequentially in a row efficiently.


6. Q: What happens if all seats are booked?
A: displayavailable() will show no . for that row.




---

✅ This explanation covers all lines, concepts, examples, and viva questions.


---

If you want, I can also draw a diagram showing rows, seats, and booked vs available seats visually, which is extremely viva-friendly.

Do you want me to make that diagram?
